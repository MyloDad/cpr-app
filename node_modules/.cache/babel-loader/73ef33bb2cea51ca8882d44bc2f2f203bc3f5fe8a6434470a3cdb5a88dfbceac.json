{"ast":null,"code":"var _jsxFileName = \"/Users/davidhelmers/arrestpro/src/context/AppStateContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\nimport useAudio from '../hooks/useAudio';\n\n// App constants\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const COLORS = {\n  background: '#1e2126',\n  // Dark background\n  logoRed: '#ff4136',\n  // Red from logo\n  logoYellow: '#f4eb00ff',\n  // Yellow from logo\n  pulseBlue: '#3498db',\n  // Blue for pulse check\n  ventGreen: '#2ecc40',\n  // Green for ventilation\n  white: '#ffffff',\n  // White text\n  darkText: '#1a1a1a',\n  // Dark text for yellow buttons\n  timerBg: '#2c3e50',\n  // Timer background\n  sliderBg: '#ecf0f1' // Slider background\n};\n\n// Create the context\nconst AppStateContext = /*#__PURE__*/createContext();\n\n// Path to audio files\nconst AUDIO_PATH = '/audio/';\nexport const AppStateProvider = ({\n  children\n}) => {\n  _s();\n  // State variables\n  const [activeSection, setActiveSection] = useState(null);\n  const [seconds, setSeconds] = useState(0);\n  const [pulseCheckTime, setPulseCheckTime] = useState(0);\n  const [pauseTime, setPauseTime] = useState(0);\n  const [metronomeRunning, setMetronomeRunning] = useState(false);\n  const [ventilationActive, setVentilationActive] = useState(false);\n  const [ventilationRate, setVentilationRate] = useState(11);\n  const [showChargeMonitor, setShowChargeMonitor] = useState(false);\n  const [epiActive, setEpiActive] = useState(false);\n  const [epiTime, setEpiTime] = useState(0);\n  const [epiCycles, setEpiCycles] = useState(0);\n  const [clockStarted, setClockStarted] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const [countdownAnnounced, setCountdownAnnounced] = useState({\n    5: false,\n    4: false,\n    3: false,\n    2: false,\n    1: false\n  });\n  const [confirmReset, setConfirmReset] = useState(false);\n  const [pulseFlashing, setPulseFlashing] = useState(false);\n  const [epiFlashing, setEpiFlashing] = useState(false);\n\n  // Refs for safer interval handling\n  const timerIntervalRef = useRef(null);\n  const pulseIntervalRef = useRef(null);\n  const ventilationIntervalRef = useRef(null);\n  const epiIntervalRef = useRef(null);\n  const clockIntervalRef = useRef(null);\n\n  // Refs for circular function dependencies\n  const startPulseCountdownRef = useRef(null);\n  const startPauseCountdownRef = useRef(null);\n\n  // Audio hooks\n  const {\n    initAudio,\n    playSound,\n    stopSound,\n    unlockAudio\n  } = useAudio();\n\n  // ********** COMPLETELY REVISED RESET FUNCTION **********\n  // This reset function is now independent and more aggressive in its reset approach\n  const resetAllFeatures = useCallback(() => {\n    console.log(\"RESET FUNCTION CALLED\");\n\n    // 1. First, stop all sounds\n    try {\n      if (typeof stopSound === 'function') {\n        stopSound('metronome');\n        stopSound('ventilate');\n        stopSound('chargeMonitor');\n        stopSound('stopCompression');\n      }\n    } catch (e) {\n      console.error(\"Error stopping sounds:\", e);\n    }\n\n    // 2. Clear all intervals\n    const clearAllIntervals = () => {\n      console.log(\"Clearing all intervals\");\n\n      // Clear timer interval\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n        timerIntervalRef.current = null;\n      }\n\n      // Clear pulse interval\n      if (pulseIntervalRef.current) {\n        clearInterval(pulseIntervalRef.current);\n        pulseIntervalRef.current = null;\n      }\n\n      // Clear ventilation interval\n      if (ventilationIntervalRef.current) {\n        clearInterval(ventilationIntervalRef.current);\n        ventilationIntervalRef.current = null;\n      }\n\n      // Clear epi interval\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n\n      // Clear clock interval\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n    };\n    clearAllIntervals();\n\n    // 3. Reset all state variables\n    console.log(\"Resetting all state variables\");\n\n    // A wrapper for setState to catch any errors\n    const safeSetState = (setFn, value) => {\n      try {\n        setFn(value);\n      } catch (e) {\n        console.error(`Error setting state:`, e);\n      }\n    };\n\n    // Reset each state variable individually\n    safeSetState(setActiveSection, null);\n    safeSetState(setSeconds, 0);\n    safeSetState(setPulseCheckTime, 0);\n    safeSetState(setPauseTime, 0);\n    safeSetState(setMetronomeRunning, false);\n    safeSetState(setVentilationActive, false);\n    safeSetState(setShowChargeMonitor, false);\n    safeSetState(setEpiActive, false);\n    safeSetState(setEpiTime, 0);\n    safeSetState(setEpiCycles, 0);\n    safeSetState(setClockStarted, false);\n    safeSetState(setStartTime, null);\n    safeSetState(setCountdownAnnounced, {\n      5: false,\n      4: false,\n      3: false,\n      2: false,\n      1: false\n    });\n    safeSetState(setConfirmReset, false);\n    safeSetState(setPulseFlashing, false);\n    safeSetState(setEpiFlashing, false);\n    console.log(\"Reset completed\");\n  }, [stopSound]); // Only depend on stopSound\n\n  // Initialize all audio files\n  useEffect(() => {\n    // Initialize audio pools for all sounds we'll use\n    initAudio('metronome', `${AUDIO_PATH}click.mp3`, 5); // More instances for rapid clicks\n    initAudio('ventilate', `${AUDIO_PATH}ventilate.mp3`, 3);\n    initAudio('chargeMonitor', `${AUDIO_PATH}charge_monitor.mp3`);\n    initAudio('stopCompression', `${AUDIO_PATH}stop_compression.mp3`);\n    initAudio('1', `${AUDIO_PATH}numbers/1.mp3`);\n    initAudio('2', `${AUDIO_PATH}numbers/2.mp3`);\n    initAudio('3', `${AUDIO_PATH}numbers/3.mp3`);\n    initAudio('4', `${AUDIO_PATH}numbers/4.mp3`);\n    initAudio('5', `${AUDIO_PATH}numbers/5.mp3`);\n\n    // Unlock audio for iOS on first user interaction\n    document.addEventListener('click', unlockAudio, {\n      once: true\n    });\n    return () => {\n      document.removeEventListener('click', unlockAudio);\n    };\n  }, [initAudio, unlockAudio]);\n\n  // Start the main clock\n  const startClock = useCallback(() => {\n    if (clockIntervalRef.current) {\n      clearInterval(clockIntervalRef.current);\n    }\n    const interval = setInterval(() => {\n      setSeconds(prev => prev + 1);\n    }, 1000);\n    clockIntervalRef.current = interval;\n    setClockStarted(true);\n  }, []);\n\n  // Reset the main clock\n  const resetClock = useCallback(() => {\n    setSeconds(0);\n    setConfirmReset(false);\n\n    // Only start the clock if there's an active feature\n    if (!clockStarted && (activeSection || ventilationActive || epiActive)) {\n      startClock();\n    } else if (!activeSection && !ventilationActive && !epiActive) {\n      // If everything is inactive, just reset without starting\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n      setClockStarted(false);\n    }\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n\n  // Handle timer click to show confirmation\n  const handleTimerClick = useCallback(() => {\n    // If timer is already at 0, no need for confirmation\n    if (seconds === 0) return;\n\n    // Show confirmation dialog\n    setConfirmReset(true);\n  }, [seconds]);\n\n  // Cancel reset\n  const cancelReset = useCallback(() => {\n    setConfirmReset(false);\n  }, []);\n\n  // Toggle ventilation\n  const toggleVentilation = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    setVentilationActive(prev => !prev);\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n\n  // Metronome functions\n  const handleMetronomeClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    if (activeSection === 'metronome' || activeSection === 'pulse+metronome') {\n      if (activeSection === 'pulse+metronome') {\n        setActiveSection('pulse');\n      } else {\n        setActiveSection(null);\n      }\n    } else {\n      if (activeSection === 'pulse') {\n        setActiveSection('pulse+metronome');\n      } else {\n        setActiveSection('metronome');\n        // Only set start time if it hasn't been set yet\n        if (!startTime) {\n          setStartTime(new Date());\n        }\n      }\n    }\n  }, [activeSection, clockStarted, startClock, ventilationActive, epiActive, startTime]);\n\n  // Define startPulseCountdown with reference to the ref instead of direct function\n  const startPulseCountdown = useCallback(() => {\n    // Clear any existing interval first\n    if (pulseIntervalRef.current) {\n      clearInterval(pulseIntervalRef.current);\n    }\n\n    // Reset the counter to 0\n    setPulseCheckTime(0);\n    pulseIntervalRef.current = setInterval(() => {\n      setPulseCheckTime(prevTime => {\n        const newTime = prevTime + 1;\n\n        // Show charge monitor warning at 1:45 (105 seconds)\n        if (newTime === 105) {\n          setShowChargeMonitor(true);\n          playSound('chargeMonitor');\n          setPulseFlashing(true);\n        }\n\n        // Countdown for last 5 seconds - directly matching the timer display\n        if (newTime === 115) playSound('5'); // 1:55\n        if (newTime === 116) playSound('4'); // 1:56\n        if (newTime === 117) playSound('3'); // 1:57\n        if (newTime === 118) playSound('2'); // 1:58\n        if (newTime === 119) playSound('1'); // 1:59\n\n        // Handle the \"stopCompression\" at exactly 2:00 (120 seconds)\n        if (newTime === 120) {\n          playSound('stopCompression');\n          setPulseFlashing(false);\n\n          // Clear this interval and start the pause countdown\n          clearInterval(pulseIntervalRef.current);\n          startPauseCountdownRef.current();\n          return 120; // Keep it at 120\n        }\n        return newTime;\n      });\n    }, 1000);\n  }, [playSound]);\n\n  // Reimplemented to count up instead of down\n  const startPauseCountdown = useCallback(() => {\n    // Reset the pause counter to 0\n    setPauseTime(0);\n\n    // Start a new interval for the pause countdown\n    pulseIntervalRef.current = setInterval(() => {\n      setPauseTime(prevPauseTime => {\n        const newTime = prevPauseTime + 1;\n\n        // When pause countdown reaches 10 seconds\n        if (newTime >= 10) {\n          // Auto-restart the pulse check countdown\n          setPulseCheckTime(0);\n          setShowChargeMonitor(false);\n          setCountdownAnnounced({\n            5: false,\n            4: false,\n            3: false,\n            2: false,\n            1: false\n          });\n\n          // Clear this interval and restart the pulse countdown\n          clearInterval(pulseIntervalRef.current);\n          startPulseCountdownRef.current();\n          return 0; // Reset the pause time for next time\n        }\n        return newTime;\n      });\n    }, 1000);\n  }, []);\n\n  // Assign the functions to the refs after they're defined\n  useEffect(() => {\n    startPulseCountdownRef.current = startPulseCountdown;\n    startPauseCountdownRef.current = startPauseCountdown;\n  }, [startPulseCountdown, startPauseCountdown]);\n\n  // Then update the handlePulseCheckClick to use the ref\n  const handlePulseCheckClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    if (activeSection === 'pulse' || activeSection === 'pulse+metronome') {\n      if (activeSection === 'pulse+metronome') {\n        setActiveSection('metronome');\n      } else {\n        setActiveSection(null);\n      }\n\n      // Clear both intervals to be safe\n      if (pulseIntervalRef.current) {\n        clearInterval(pulseIntervalRef.current);\n        pulseIntervalRef.current = null;\n      }\n      setPulseFlashing(false); // Stop flashing\n    } else {\n      if (activeSection === 'metronome') {\n        setActiveSection('pulse+metronome');\n      } else {\n        setActiveSection('pulse');\n      }\n\n      // Reset all values\n      setPulseCheckTime(0); // Start at 0 for count up\n      setPauseTime(0); // Start at 0 for count up\n      setShowChargeMonitor(false);\n      setCountdownAnnounced({\n        5: false,\n        4: false,\n        3: false,\n        2: false,\n        1: false\n      });\n\n      // Start the main pulse check countdown using the ref\n      startPulseCountdownRef.current();\n    }\n  }, [activeSection, clockStarted, startClock, ventilationActive, epiActive]);\n\n  // Epinephrine functions - modified for count-up and cycle counting\n  const handleEpinephrineClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n\n    // Toggle or reset epinephrine state\n    if (epiActive) {\n      // If already active, restart the timer and increment cycle count\n      setEpiTime(0);\n      setEpiCycles(prev => prev + 1);\n      setEpiFlashing(false);\n    } else {\n      // If turning on, set initial state with cycle count of 1 (first dose)\n      setEpiTime(0);\n      setEpiCycles(1); // Start at 1 instead of 0\n      setEpiActive(true);\n    }\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n\n  // Add a function to turn off epinephrine completely (long press or separate button)\n  const turnOffEpinephrine = useCallback(() => {\n    setEpiActive(false);\n    setEpiTime(0);\n    setEpiCycles(0); // Reset cycles to 0 when turning off completely\n    setEpiFlashing(false);\n\n    // Clear interval\n    if (epiIntervalRef.current) {\n      clearInterval(epiIntervalRef.current);\n      epiIntervalRef.current = null;\n    }\n  }, []);\n\n  // Update metronome state based on activeSection\n  useEffect(() => {\n    if (activeSection === 'metronome' || activeSection === 'pulse+metronome') {\n      setMetronomeRunning(true);\n    } else {\n      setMetronomeRunning(false);\n    }\n    if (!activeSection && !ventilationActive && !epiActive && clockStarted) {\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n      setSeconds(0);\n      setClockStarted(false);\n    }\n  }, [activeSection, ventilationActive, epiActive, clockStarted]);\n\n  // Metronome timer effect\n  useEffect(() => {\n    if (!metronomeRunning) return;\n    if (timerIntervalRef.current) {\n      clearInterval(timerIntervalRef.current);\n      timerIntervalRef.current = null;\n    }\n    const bpm = 110; // Fixed BPM\n    if (bpm <= 0) return;\n    const intervalTime = 60 / bpm * 1000;\n\n    // Play immediately on start\n    playSound('metronome');\n    timerIntervalRef.current = setInterval(() => {\n      playSound('metronome');\n    }, intervalTime);\n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n        timerIntervalRef.current = null;\n      }\n    };\n  }, [metronomeRunning, playSound]);\n\n  // Ventilation timer effect\n  useEffect(() => {\n    if (!ventilationActive) return;\n    if (ventilationIntervalRef.current) {\n      clearInterval(ventilationIntervalRef.current);\n      ventilationIntervalRef.current = null;\n    }\n    if (ventilationRate <= 0) return;\n    const intervalTime = 60 / ventilationRate * 1000;\n\n    // Play immediately on start\n    playSound('ventilate');\n    ventilationIntervalRef.current = setInterval(() => {\n      playSound('ventilate');\n    }, intervalTime);\n    return () => {\n      if (ventilationIntervalRef.current) {\n        clearInterval(ventilationIntervalRef.current);\n        ventilationIntervalRef.current = null;\n      }\n    };\n  }, [ventilationActive, ventilationRate, playSound]);\n\n  // Epinephrine timer effect - modified for count-up\n  useEffect(() => {\n    if (!epiActive) {\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n      setEpiFlashing(false); // Ensure flashing stops when deactivated\n      return;\n    }\n\n    // Reset timer to 0 when activated (only if it was just activated)\n    if (epiTime === 0 && epiIntervalRef.current === null) {\n      setEpiTime(0);\n    }\n    epiIntervalRef.current = setInterval(() => {\n      setEpiTime(prevTime => {\n        const newTime = prevTime + 1;\n\n        // Start flashing when we reach 4:45 (285 seconds)\n        if (newTime === 285) {\n          setEpiFlashing(true);\n        }\n\n        // Continue counting up indefinitely until button is clicked again\n        // No automatic cycle increment based on time\n        return newTime;\n      });\n    }, 1000);\n    return () => {\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n    };\n  }, [epiActive]);\n\n  // Format seconds to MM:SS\n  const formatTime = totalSeconds => {\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  // Format time as 24-hour clock HH:MM\n  const formatClock = date => {\n    if (!date) return \"--:--\";\n    const hours = date.getHours().toString().padStart(2, '0');\n    const minutes = date.getMinutes().toString().padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Cleanup all intervals on unmount\n  useEffect(() => {\n    return () => {\n      [timerIntervalRef, pulseIntervalRef, ventilationIntervalRef, epiIntervalRef, clockIntervalRef].forEach(ref => {\n        if (ref && ref.current) {\n          clearInterval(ref.current);\n          ref.current = null;\n        }\n      });\n    };\n  }, []);\n\n  // Exposed context value\n  const contextValue = {\n    // State\n    activeSection,\n    seconds,\n    pulseCheckTime,\n    pauseTime,\n    metronomeRunning,\n    ventilationActive,\n    ventilationRate,\n    showChargeMonitor,\n    epiActive,\n    epiTime,\n    epiCycles,\n    clockStarted,\n    startTime,\n    countdownAnnounced,\n    confirmReset,\n    pulseFlashing,\n    epiFlashing,\n    // Actions\n    setVentilationRate,\n    handleTimerClick,\n    resetClock,\n    cancelReset,\n    toggleVentilation,\n    handleMetronomeClick,\n    handlePulseCheckClick,\n    handleEpinephrineClick,\n    turnOffEpinephrine,\n    resetAllFeatures,\n    // Utilities\n    formatTime,\n    formatClock,\n    COLORS\n  };\n  return /*#__PURE__*/_jsxDEV(AppStateContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 586,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom hook to use the app state\n_s(AppStateProvider, \"qCyHSJT1BlgvLqTpr6cfs7ePCxM=\", false, function () {\n  return [useAudio];\n});\n_c = AppStateProvider;\nexport const useAppState = () => {\n  _s2();\n  const context = useContext(AppStateContext);\n  if (context === undefined) {\n    throw new Error('useAppState must be used within an AppStateProvider');\n  }\n  return context;\n};\n_s2(useAppState, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AppStateProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","useRef","useAudio","jsxDEV","_jsxDEV","COLORS","background","logoRed","logoYellow","pulseBlue","ventGreen","white","darkText","timerBg","sliderBg","AppStateContext","AUDIO_PATH","AppStateProvider","children","_s","activeSection","setActiveSection","seconds","setSeconds","pulseCheckTime","setPulseCheckTime","pauseTime","setPauseTime","metronomeRunning","setMetronomeRunning","ventilationActive","setVentilationActive","ventilationRate","setVentilationRate","showChargeMonitor","setShowChargeMonitor","epiActive","setEpiActive","epiTime","setEpiTime","epiCycles","setEpiCycles","clockStarted","setClockStarted","startTime","setStartTime","countdownAnnounced","setCountdownAnnounced","confirmReset","setConfirmReset","pulseFlashing","setPulseFlashing","epiFlashing","setEpiFlashing","timerIntervalRef","pulseIntervalRef","ventilationIntervalRef","epiIntervalRef","clockIntervalRef","startPulseCountdownRef","startPauseCountdownRef","initAudio","playSound","stopSound","unlockAudio","resetAllFeatures","console","log","e","error","clearAllIntervals","current","clearInterval","safeSetState","setFn","value","document","addEventListener","once","removeEventListener","startClock","interval","setInterval","prev","resetClock","handleTimerClick","cancelReset","toggleVentilation","Date","handleMetronomeClick","startPulseCountdown","prevTime","newTime","startPauseCountdown","prevPauseTime","handlePulseCheckClick","handleEpinephrineClick","turnOffEpinephrine","bpm","intervalTime","formatTime","totalSeconds","minutes","Math","floor","toString","padStart","formatClock","date","hours","getHours","getMinutes","forEach","ref","contextValue","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAppState","_s2","context","undefined","Error","$RefreshReg$"],"sources":["/Users/davidhelmers/arrestpro/src/context/AppStateContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\nimport useAudio from '../hooks/useAudio';\n\n// App constants\nexport const COLORS = {\n  background: '#1e2126',     // Dark background\n  logoRed: '#ff4136',        // Red from logo\n  logoYellow: '#f4eb00ff',   // Yellow from logo\n  pulseBlue: '#3498db',      // Blue for pulse check\n  ventGreen: '#2ecc40',      // Green for ventilation\n  white: '#ffffff',          // White text\n  darkText: '#1a1a1a',       // Dark text for yellow buttons\n  timerBg: '#2c3e50',        // Timer background\n  sliderBg: '#ecf0f1',       // Slider background\n};\n\n// Create the context\nconst AppStateContext = createContext();\n\n// Path to audio files\nconst AUDIO_PATH = '/audio/';\n\nexport const AppStateProvider = ({ children }) => {\n  // State variables\n  const [activeSection, setActiveSection] = useState(null);\n  const [seconds, setSeconds] = useState(0);\n  const [pulseCheckTime, setPulseCheckTime] = useState(0);\n  const [pauseTime, setPauseTime] = useState(0);\n  const [metronomeRunning, setMetronomeRunning] = useState(false);\n  const [ventilationActive, setVentilationActive] = useState(false);\n  const [ventilationRate, setVentilationRate] = useState(11);\n  const [showChargeMonitor, setShowChargeMonitor] = useState(false);\n  const [epiActive, setEpiActive] = useState(false);\n  const [epiTime, setEpiTime] = useState(0);\n  const [epiCycles, setEpiCycles] = useState(0);\n  const [clockStarted, setClockStarted] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const [countdownAnnounced, setCountdownAnnounced] = useState({5: false, 4: false, 3: false, 2: false, 1: false});\n  const [confirmReset, setConfirmReset] = useState(false);\n  const [pulseFlashing, setPulseFlashing] = useState(false);\n  const [epiFlashing, setEpiFlashing] = useState(false);\n\n  // Refs for safer interval handling\n  const timerIntervalRef = useRef(null);\n  const pulseIntervalRef = useRef(null);\n  const ventilationIntervalRef = useRef(null);\n  const epiIntervalRef = useRef(null);\n  const clockIntervalRef = useRef(null);\n\n  // Refs for circular function dependencies\n  const startPulseCountdownRef = useRef(null);\n  const startPauseCountdownRef = useRef(null);\n\n  // Audio hooks\n  const { initAudio, playSound, stopSound, unlockAudio } = useAudio();\n\n  // ********** COMPLETELY REVISED RESET FUNCTION **********\n  // This reset function is now independent and more aggressive in its reset approach\n  const resetAllFeatures = useCallback(() => {\n    console.log(\"RESET FUNCTION CALLED\");\n    \n    // 1. First, stop all sounds\n    try {\n      if (typeof stopSound === 'function') {\n        stopSound('metronome');\n        stopSound('ventilate');\n        stopSound('chargeMonitor');\n        stopSound('stopCompression');\n      }\n    } catch (e) {\n      console.error(\"Error stopping sounds:\", e);\n    }\n    \n    // 2. Clear all intervals\n    const clearAllIntervals = () => {\n      console.log(\"Clearing all intervals\");\n      \n      // Clear timer interval\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n        timerIntervalRef.current = null;\n      }\n      \n      // Clear pulse interval\n      if (pulseIntervalRef.current) {\n        clearInterval(pulseIntervalRef.current);\n        pulseIntervalRef.current = null;\n      }\n      \n      // Clear ventilation interval\n      if (ventilationIntervalRef.current) {\n        clearInterval(ventilationIntervalRef.current);\n        ventilationIntervalRef.current = null;\n      }\n      \n      // Clear epi interval\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n      \n      // Clear clock interval\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n    };\n    \n    clearAllIntervals();\n    \n    // 3. Reset all state variables\n    console.log(\"Resetting all state variables\");\n    \n    // A wrapper for setState to catch any errors\n    const safeSetState = (setFn, value) => {\n      try {\n        setFn(value);\n      } catch (e) {\n        console.error(`Error setting state:`, e);\n      }\n    };\n    \n    // Reset each state variable individually\n    safeSetState(setActiveSection, null);\n    safeSetState(setSeconds, 0);\n    safeSetState(setPulseCheckTime, 0);\n    safeSetState(setPauseTime, 0);\n    safeSetState(setMetronomeRunning, false);\n    safeSetState(setVentilationActive, false);\n    safeSetState(setShowChargeMonitor, false);\n    safeSetState(setEpiActive, false);\n    safeSetState(setEpiTime, 0);\n    safeSetState(setEpiCycles, 0);\n    safeSetState(setClockStarted, false);\n    safeSetState(setStartTime, null);\n    safeSetState(setCountdownAnnounced, {5: false, 4: false, 3: false, 2: false, 1: false});\n    safeSetState(setConfirmReset, false);\n    safeSetState(setPulseFlashing, false);\n    safeSetState(setEpiFlashing, false);\n    \n    console.log(\"Reset completed\");\n  }, [stopSound]); // Only depend on stopSound\n\n  // Initialize all audio files\n  useEffect(() => {\n    // Initialize audio pools for all sounds we'll use\n    initAudio('metronome', `${AUDIO_PATH}click.mp3`, 5);  // More instances for rapid clicks\n    initAudio('ventilate', `${AUDIO_PATH}ventilate.mp3`, 3);\n    initAudio('chargeMonitor', `${AUDIO_PATH}charge_monitor.mp3`);\n    initAudio('stopCompression', `${AUDIO_PATH}stop_compression.mp3`);\n    initAudio('1', `${AUDIO_PATH}numbers/1.mp3`);\n    initAudio('2', `${AUDIO_PATH}numbers/2.mp3`);\n    initAudio('3', `${AUDIO_PATH}numbers/3.mp3`);\n    initAudio('4', `${AUDIO_PATH}numbers/4.mp3`);\n    initAudio('5', `${AUDIO_PATH}numbers/5.mp3`);\n    \n    // Unlock audio for iOS on first user interaction\n    document.addEventListener('click', unlockAudio, { once: true });\n    \n    return () => {\n      document.removeEventListener('click', unlockAudio);\n    };\n  }, [initAudio, unlockAudio]);\n\n  // Start the main clock\n  const startClock = useCallback(() => {\n    if (clockIntervalRef.current) {\n      clearInterval(clockIntervalRef.current);\n    }\n    \n    const interval = setInterval(() => {\n      setSeconds(prev => prev + 1);\n    }, 1000);\n    \n    clockIntervalRef.current = interval;\n    setClockStarted(true);\n  }, []);\n  \n  // Reset the main clock\n  const resetClock = useCallback(() => {\n    setSeconds(0);\n    setConfirmReset(false);\n    \n    // Only start the clock if there's an active feature\n    if (!clockStarted && (activeSection || ventilationActive || epiActive)) {\n      startClock();\n    } else if (!activeSection && !ventilationActive && !epiActive) {\n      // If everything is inactive, just reset without starting\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n      setClockStarted(false);\n    }\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n  \n  // Handle timer click to show confirmation\n  const handleTimerClick = useCallback(() => {\n    // If timer is already at 0, no need for confirmation\n    if (seconds === 0) return;\n    \n    // Show confirmation dialog\n    setConfirmReset(true);\n  }, [seconds]);\n  \n  // Cancel reset\n  const cancelReset = useCallback(() => {\n    setConfirmReset(false);\n  }, []);\n\n  // Toggle ventilation\n  const toggleVentilation = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    \n    setVentilationActive(prev => !prev);\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n\n  // Metronome functions\n  const handleMetronomeClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    \n    if (activeSection === 'metronome' || activeSection === 'pulse+metronome') {\n      if (activeSection === 'pulse+metronome') {\n        setActiveSection('pulse');\n      } else {\n        setActiveSection(null);\n      }\n    } else {\n      if (activeSection === 'pulse') {\n        setActiveSection('pulse+metronome');\n      } else {\n        setActiveSection('metronome');\n        // Only set start time if it hasn't been set yet\n        if (!startTime) {\n          setStartTime(new Date());\n        }\n      }\n    }\n  }, [activeSection, clockStarted, startClock, ventilationActive, epiActive, startTime]);\n\n  // Define startPulseCountdown with reference to the ref instead of direct function\n  const startPulseCountdown = useCallback(() => {\n    // Clear any existing interval first\n    if (pulseIntervalRef.current) {\n      clearInterval(pulseIntervalRef.current);\n    }\n    \n    // Reset the counter to 0\n    setPulseCheckTime(0);\n    \n    pulseIntervalRef.current = setInterval(() => {\n      setPulseCheckTime(prevTime => {\n        const newTime = prevTime + 1;\n        \n        // Show charge monitor warning at 1:45 (105 seconds)\n        if (newTime === 105) {\n          setShowChargeMonitor(true);\n          playSound('chargeMonitor');\n          setPulseFlashing(true);\n        }\n\n        // Countdown for last 5 seconds - directly matching the timer display\n        if (newTime === 115) playSound('5'); // 1:55\n        if (newTime === 116) playSound('4'); // 1:56\n        if (newTime === 117) playSound('3'); // 1:57\n        if (newTime === 118) playSound('2'); // 1:58\n        if (newTime === 119) playSound('1'); // 1:59\n        \n        // Handle the \"stopCompression\" at exactly 2:00 (120 seconds)\n        if (newTime === 120) {\n          playSound('stopCompression');\n          setPulseFlashing(false);\n          \n          // Clear this interval and start the pause countdown\n          clearInterval(pulseIntervalRef.current);\n          startPauseCountdownRef.current();\n          \n          return 120; // Keep it at 120\n        }\n        \n        return newTime;\n      });\n    }, 1000);\n  }, [playSound]);\n\n  // Reimplemented to count up instead of down\n  const startPauseCountdown = useCallback(() => {\n    // Reset the pause counter to 0\n    setPauseTime(0);\n    \n    // Start a new interval for the pause countdown\n    pulseIntervalRef.current = setInterval(() => {\n      setPauseTime(prevPauseTime => {\n        const newTime = prevPauseTime + 1;\n        \n        // When pause countdown reaches 10 seconds\n        if (newTime >= 10) {\n          // Auto-restart the pulse check countdown\n          setPulseCheckTime(0);\n          setShowChargeMonitor(false);\n          setCountdownAnnounced({ 5: false, 4: false, 3: false, 2: false, 1: false });\n          \n          // Clear this interval and restart the pulse countdown\n          clearInterval(pulseIntervalRef.current);\n          startPulseCountdownRef.current();\n          \n          return 0; // Reset the pause time for next time\n        }\n        \n        return newTime;\n      });\n    }, 1000);\n  }, []);\n\n  // Assign the functions to the refs after they're defined\n  useEffect(() => {\n    startPulseCountdownRef.current = startPulseCountdown;\n    startPauseCountdownRef.current = startPauseCountdown;\n  }, [startPulseCountdown, startPauseCountdown]);\n\n  // Then update the handlePulseCheckClick to use the ref\n  const handlePulseCheckClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    \n    if (activeSection === 'pulse' || activeSection === 'pulse+metronome') {\n      if (activeSection === 'pulse+metronome') {\n        setActiveSection('metronome');\n      } else {\n        setActiveSection(null);\n      }\n      \n      // Clear both intervals to be safe\n      if (pulseIntervalRef.current) {\n        clearInterval(pulseIntervalRef.current);\n        pulseIntervalRef.current = null;\n      }\n      \n      setPulseFlashing(false); // Stop flashing\n    } else {\n      if (activeSection === 'metronome') {\n        setActiveSection('pulse+metronome');\n      } else {\n        setActiveSection('pulse');\n      }\n      \n      // Reset all values\n      setPulseCheckTime(0);    // Start at 0 for count up\n      setPauseTime(0);         // Start at 0 for count up\n      setShowChargeMonitor(false);\n      setCountdownAnnounced({5: false, 4: false, 3: false, 2: false, 1: false});\n      \n      // Start the main pulse check countdown using the ref\n      startPulseCountdownRef.current();\n    }\n  }, [activeSection, clockStarted, startClock, ventilationActive, epiActive]);\n\n  // Epinephrine functions - modified for count-up and cycle counting\n  const handleEpinephrineClick = useCallback(() => {\n    // Start the main timer if this is the first feature activated\n    if (!clockStarted && !activeSection && !ventilationActive && !epiActive) {\n      startClock();\n      setStartTime(new Date());\n    }\n    \n    // Toggle or reset epinephrine state\n    if (epiActive) {\n      // If already active, restart the timer and increment cycle count\n      setEpiTime(0);\n      setEpiCycles(prev => prev + 1);\n      setEpiFlashing(false);\n    } else {\n      // If turning on, set initial state with cycle count of 1 (first dose)\n      setEpiTime(0);\n      setEpiCycles(1); // Start at 1 instead of 0\n      setEpiActive(true);\n    }\n  }, [clockStarted, startClock, activeSection, ventilationActive, epiActive]);\n\n  // Add a function to turn off epinephrine completely (long press or separate button)\n  const turnOffEpinephrine = useCallback(() => {\n    setEpiActive(false);\n    setEpiTime(0);\n    setEpiCycles(0); // Reset cycles to 0 when turning off completely\n    setEpiFlashing(false);\n    \n    // Clear interval\n    if (epiIntervalRef.current) {\n      clearInterval(epiIntervalRef.current);\n      epiIntervalRef.current = null;\n    }\n  }, []);\n\n  // Update metronome state based on activeSection\n  useEffect(() => {\n    if (activeSection === 'metronome' || activeSection === 'pulse+metronome') {\n      setMetronomeRunning(true);\n    } else {\n      setMetronomeRunning(false);\n    }\n    \n    if (!activeSection && !ventilationActive && !epiActive && clockStarted) {\n      if (clockIntervalRef.current) {\n        clearInterval(clockIntervalRef.current);\n        clockIntervalRef.current = null;\n      }\n      setSeconds(0);\n      setClockStarted(false);\n    }\n  }, [activeSection, ventilationActive, epiActive, clockStarted]);\n\n  // Metronome timer effect\n  useEffect(() => {\n    if (!metronomeRunning) return;\n    \n    if (timerIntervalRef.current) {\n      clearInterval(timerIntervalRef.current);\n      timerIntervalRef.current = null;\n    }\n    \n    const bpm = 110; // Fixed BPM\n    if (bpm <= 0) return;\n    \n    const intervalTime = (60 / bpm) * 1000;\n    \n    // Play immediately on start\n    playSound('metronome');\n    \n    timerIntervalRef.current = setInterval(() => {\n      playSound('metronome');\n    }, intervalTime);\n    \n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n        timerIntervalRef.current = null;\n      }\n    };\n  }, [metronomeRunning, playSound]);\n\n  // Ventilation timer effect\n  useEffect(() => {\n    if (!ventilationActive) return;\n    \n    if (ventilationIntervalRef.current) {\n      clearInterval(ventilationIntervalRef.current);\n      ventilationIntervalRef.current = null;\n    }\n    \n    if (ventilationRate <= 0) return;\n    \n    const intervalTime = (60 / ventilationRate) * 1000;\n    \n    // Play immediately on start\n    playSound('ventilate');\n    \n    ventilationIntervalRef.current = setInterval(() => {\n      playSound('ventilate');\n    }, intervalTime);\n    \n    return () => {\n      if (ventilationIntervalRef.current) {\n        clearInterval(ventilationIntervalRef.current);\n        ventilationIntervalRef.current = null;\n      }\n    };\n  }, [ventilationActive, ventilationRate, playSound]);\n\n  // Epinephrine timer effect - modified for count-up\n  useEffect(() => {\n    if (!epiActive) {\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n      setEpiFlashing(false); // Ensure flashing stops when deactivated\n      return;\n    }\n    \n    // Reset timer to 0 when activated (only if it was just activated)\n    if (epiTime === 0 && epiIntervalRef.current === null) {\n      setEpiTime(0);\n    }\n    \n    epiIntervalRef.current = setInterval(() => {\n      setEpiTime(prevTime => {\n        const newTime = prevTime + 1;\n        \n        // Start flashing when we reach 4:45 (285 seconds)\n        if (newTime === 285) {\n          setEpiFlashing(true);\n        }\n        \n        // Continue counting up indefinitely until button is clicked again\n        // No automatic cycle increment based on time\n        return newTime;\n      });\n    }, 1000);\n    \n    return () => {\n      if (epiIntervalRef.current) {\n        clearInterval(epiIntervalRef.current);\n        epiIntervalRef.current = null;\n      }\n    };\n  }, [epiActive]);\n\n  // Format seconds to MM:SS\n  const formatTime = (totalSeconds) => {\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n  };\n  \n  // Format time as 24-hour clock HH:MM\n  const formatClock = (date) => {\n    if (!date) return \"--:--\";\n    const hours = date.getHours().toString().padStart(2, '0');\n    const minutes = date.getMinutes().toString().padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Cleanup all intervals on unmount\n  useEffect(() => {\n    return () => {\n      [timerIntervalRef, pulseIntervalRef, ventilationIntervalRef, epiIntervalRef, clockIntervalRef].forEach(ref => {\n        if (ref && ref.current) {\n          clearInterval(ref.current);\n          ref.current = null;\n        }\n      });\n    };\n  }, []);\n\n  // Exposed context value\n  const contextValue = {\n    // State\n    activeSection,\n    seconds,\n    pulseCheckTime,\n    pauseTime,\n    metronomeRunning, \n    ventilationActive,\n    ventilationRate,\n    showChargeMonitor,\n    epiActive,\n    epiTime,\n    epiCycles,\n    clockStarted,\n    startTime,\n    countdownAnnounced,\n    confirmReset,\n    pulseFlashing,\n    epiFlashing,\n    \n    // Actions\n    setVentilationRate,\n    handleTimerClick,\n    resetClock,\n    cancelReset,\n    toggleVentilation,\n    handleMetronomeClick,\n    handlePulseCheckClick,\n    handleEpinephrineClick,\n    turnOffEpinephrine,\n    resetAllFeatures,\n    \n    // Utilities\n    formatTime,\n    formatClock,\n    COLORS\n  };\n\n  return (\n    <AppStateContext.Provider value={contextValue}>\n      {children}\n    </AppStateContext.Provider>\n  );\n};\n\n// Custom hook to use the app state\nexport const useAppState = () => {\n  const context = useContext(AppStateContext);\n  if (context === undefined) {\n    throw new Error('useAppState must be used within an AppStateProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}